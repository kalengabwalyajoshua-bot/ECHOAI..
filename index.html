<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EchoAI</title>

<style>
:root {
    --bg: #0b0f14;
    --card: #121826;
    --accent: #4da3ff;
    --text: #e8ecf1;
    --muted: #9aa4b2;
    --danger: #ff4d4d;
    --success: #4dff88;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Segoe UI", system-ui, sans-serif;
}

body {
    background: radial-gradient(circle at top, #101828, #06080d);
    color: var(--text);
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.app {
    width: 360px;
    height: 640px;
    background: linear-gradient(180deg, #0f1422, #090c14);
    border-radius: 24px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* HEADER */
.header {
    padding: 18px;
    text-align: center;
    background: linear-gradient(90deg, #111a33, #0d1326);
}

.header h1 {
    font-size: 20px;
    letter-spacing: 1px;
}

.header span {
    color: var(--accent);
}

/* MAIN */
.main {
    flex: 1;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.card {
    background: var(--card);
    border-radius: 16px;
    padding: 14px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.04);
}

.status {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.status span {
    font-size: 13px;
    color: var(--muted);
}

.indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--danger);
    box-shadow: 0 0 10px var(--danger);
}

.indicator.active {
    background: var(--success);
    box-shadow: 0 0 12px var(--success);
}

.log {
    height: 200px;
    overflow-y: auto;
    font-size: 13px;
    color: var(--muted);
}

.log p {
    margin-bottom: 8px;
}

.log strong {
    color: var(--text);
}

/* CONTROLS */
.controls {
    display: flex;
    gap: 10px;
}

button {
    flex: 1;
    background: linear-gradient(180deg, #1b2a4d, #121a33);
    color: white;
    border: none;
    border-radius: 14px;
    padding: 14px;
    font-size: 14px;
    cursor: pointer;
    transition: 0.2s;
}

button:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 20px rgba(77,163,255,0.25);
}

button.secondary {
    background: #0f1424;
}

/* NAV */
.nav {
    display: flex;
    background: #0a0e18;
    border-top: 1px solid rgba(255,255,255,0.05);
}

.nav button {
    flex: 1;
    border-radius: 0;
    background: transparent;
    font-size: 12px;
    padding: 12px 0;
}

.nav button.active {
    color: var(--accent);
}
</style>
</head>

<body>

<div class="app">

    <div class="header">
        <h1>Echo<span>AI</span></h1>
    </div>

    <div class="main">

        <div class="card status">
            <span id="statusText">Voice inactive</span>
            <div id="indicator" class="indicator"></div>
        </div>

        <div class="card log" id="log"></div>

        <div class="controls">
            <button onclick="startListening()">Start</button>
            <button class="secondary" onclick="stopListening()">Stop</button>
        </div>

    </div>

    <div class="nav">
        <button onclick="navigate('home')" class="active">Home</button>
        <button onclick="navigate('dashboard')">Dashboard</button>
        <button onclick="navigate('messages')">Messages</button>
        <button onclick="navigate('friends')">Friends</button>
        <button onclick="navigate('profile')">Profile</button>
    </div>

</div>

<script>
/* =========================
   SPEECH SETUP
========================= */
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
let recognition;
let listening = false;

const log = document.getElementById("log");
const statusText = document.getElementById("statusText");
const indicator = document.getElementById("indicator");

function speak(text) {
    const utter = new SpeechSynthesisUtterance(text);
    utter.rate = 1;
    utter.pitch = 1;
    utter.lang = "en-US";
    speechSynthesis.speak(utter);
}

function addLog(text, user=false) {
    const p = document.createElement("p");
    p.innerHTML = user ? `<strong>You:</strong> ${text}` : `<strong>EchoAI:</strong> ${text}`;
    log.appendChild(p);
    log.scrollTop = log.scrollHeight;
}

/* =========================
   VOICE CONTROL
========================= */
function startListening() {
    if (!SpeechRecognition) {
        alert("Speech Recognition not supported");
        return;
    }

    if (listening) return;

    recognition = new SpeechRecognition();
    recognition.continuous = true;
    recognition.lang = "en-US";

    recognition.onstart = () => {
        listening = true;
        indicator.classList.add("active");
        statusText.textContent = "Listening...";
        speak("I am listening");
        addLog("Listening started");
    };

    recognition.onresult = (event) => {
        const transcript = event.results[event.results.length - 1][0].transcript.toLowerCase().trim();
        addLog(transcript, true);
        handleCommand(transcript);
    };

    recognition.onend = () => {
        if (listening) recognition.start();
    };

    recognition.start();
}

function stopListening() {
    if (!recognition) return;
    listening = false;
    recognition.stop();
    indicator.classList.remove("active");
    statusText.textContent = "Voice inactive";
    speak("Listening stopped");
    addLog("Listening stopped");
}

/* =========================
   COMMAND HANDLER
========================= */
function handleCommand(cmd) {

    if (cmd.includes("hello")) {
        respond("Hello Joshua, how can I help you?");
    }
    else if (cmd.includes("dashboard")) {
        navigate("dashboard");
        respond("Opening dashboard");
    }
    else if (cmd.includes("profile")) {
        navigate("profile");
        respond("Opening your profile");
    }
    else if (cmd.includes("messages")) {
        navigate("messages");
        respond("Opening messages");
    }
    else if (cmd.includes("friends")) {
        navigate("friends");
        respond("Opening friends");
    }
    else if (cmd.includes("home")) {
        navigate("home");
        respond("Going home");
    }
    else if (cmd.includes("clear")) {
        log.innerHTML = "";
        respond("Cleared the screen");
    }
    else if (cmd.includes("help")) {
        respond("You can say things like open dashboard, open profile, or say hello");
    }
    else {
        respond("I heard you, but I did not understand that command");
    }
}

function respond(text) {
    addLog(text);
    speak(text);
}

/* =========================
   NAVIGATION
========================= */
function navigate(page) {
    document.querySelectorAll(".nav button").forEach(b => b.classList.remove("active"));
    event?.target?.classList.add("active");
    addLog("Navigated to " + page);
}
</script>

</body>
</html>
